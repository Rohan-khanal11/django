{% extends 'base.html' %}
{% load static %}
{% block content %}
<form>
<div class="container text-center mb-3">
  <h1 class="mb-3">Posts</h1>
  <form method="get" action="" style="display: inline-flex; width: 100%; max-width: 500px; justify-content: center; gap: 0.5rem;">
    <input
      type="text"
      name="q"
      value="{{ request.GET.q }}"
      placeholder="Search in body..."
      style="flex-grow: 1; padding: 0.375rem 0.75rem; font-size: 1rem;"
    />
  <button type="submit" class="btn btn-primary" 
  style="padding: 0.25rem 0.75rem; font-size: 0.875rem; line-height: 1; height: 2rem;">
  Search
</button>
  </form>
</div>

<div class="container mt-4">    

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="mb-0">Posts</h1>
    </div>  

    {% for post in all_post %}
        <div class="card mb-3 shadow-sm">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title mb-0">
                    <a href="{% url 'post_detail' post.id %}" class="text-decoration-none text-dark">
                        {{ post.title }}
                    </a>
                </h4>
                <form action="{% url 'post_delete' post.id %}" method="post" class="ms-3">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger btn-sm"
                            onclick="return confirm('Are you sure you want to delete this post?');">
                        Delete
                    </button>
                </form>
            </div>
        </div>
    {% empty %}
        <div class="alert alert-info">
            No posts available.
        </div>
    {% endfor %}
</div>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block javascript %}
<script src="{% static 'js/list.js' %}"></script>
{% endblock %}
